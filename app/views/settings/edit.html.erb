<div class="wrapper wrapper-content animated fadeInRight">
  <div class="ibox ">
    <div class="ibox-content">
      <div class="row">
        <div class="col">
          <%= render partial: "layouts/errors", object: @settings, as: 'form' %>

          <%= bootstrap_form_for(
                  @settings,
                  method: :post,
                  url: update_settings_path,
                  inline_errors: false,
                  html: { class: 'mt-3' }) do |f| %>

            <fieldset class="mb-4">
              <legend class="mb-3 border-bottom">Device defaults</legend>
              <div class="row">
                <div class="col-sm">
                  <%= f.number_field :default_footfall_threshold_amber,
                        label: 'Footfall amber warning threshold',
                        min: 1, max: 999, step: 1 %>
                </div>
                <div class="col-sm">
                  <%= f.number_field :default_footfall_threshold_red,
                        label: 'Footfall red warning threshold',
                        min: 1, max: 999, step: 1 %>
                </div>
              </div>
              <div class="row">
                <div class="col-sm">
                  <%= f.number_field :default_battery_threshold_amber,
                        label: 'Battery amber warning threshold',
                        append: '%',
                        min: 1, max: 99, step: 1 %>
                </div>
                <div class="col-sm">
                  <%= f.number_field :default_battery_threshold_red,
                        label: 'Battery red warning threshold',
                        append: '%',
                        min: 1, max: 99, step: 1 %>
                </div>
              </div>
            </fieldset>

            <fieldset class="mb-4">
              <legend class="mb-3 border-bottom">Mapping defaults</legend>

              <div class="row">
                <div class="col-sm">
                  <%= f.number_field :default_latitude,
                        label: 'Default map centre latitude',
                        min: -90, max: 90, step: 0.000001 %>
                </div>
                <div class="col-sm">
                  <%= f.number_field :default_longitude,
                        label: 'Default map centre longitude',
                        min: -180, max: 180, step: 0.000001 %>
                </div>
              </div>

              <div class="row">
                <div class="col-sm">
                  <%= f.number_field :default_zoom_no_location,
                        label: 'Default map zoom when no specific location selected',
                        min: 0, max: 18, step: 1 %>
                </div>
                <div class="col-sm">
                  <%= f.number_field :default_zoom_specific_location,
                        label: 'Default map zoom when a specific location is selected',
                        min: 0, max: 18, step: 1 %>
                </div>
              </div>
            </fieldset>

            <div class="mt-2 float-right">
              <%= button_tag(type: "submit", class: "btn btn-w-m btn-primary") do %>
                <i class="fa fa-check"></i> Save
              <% end %>
              <%= link_to settings_path, :class => 'btn btn-w-m btn-default' do %>
                <i class="fa fa-times"></i> Cancel
              <% end %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>